{"version":3,"sources":["meteor://ðŸ’»app/client/templates/todos-item.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/templates/todos-item.js","sourcesContent":["var EDITING_KEY = 'EDITING_TODO_ID';\n\nTemplate.todosItem.helpers({\n  checkedClass: function() {\n    return this.checked && 'checked';\n  },\n  editingClass: function() {\n    return Session.equals(EDITING_KEY, this._id) && 'editing';\n  }\n});\n\nTemplate.todosItem.events({\n  'change [type=checkbox]': function(event) {\n    var checked = $(event.target).is(':checked');\n    Todos.update(this._id, {$set: {checked: checked}});\n    Lists.update(this.listId, {$inc: {incompleteCount: checked ? -1 : 1}});\n  },\n  \n  'focus input[type=text]': function(event) {\n    Session.set(EDITING_KEY, this._id);\n  },\n  \n  'blur input[type=text]': function(event) {\n    if (Session.equals(EDITING_KEY, this._id))\n      Session.set(EDITING_KEY, null);\n  },\n  \n  'keydown input[type=text]': function(event) {\n    // ESC or ENTER\n    if (event.which === 27 || event.which === 13) {\n      event.preventDefault();\n      event.target.blur();\n    }\n  },\n  \n  // update the text of the item on keypress but throttle the event to ensure\n  // we don't flood the server with updates (handles the event at most once \n  // every 300ms)\n  'keyup input[type=text]': _.throttle(function(event) {\n    Todos.update(this._id, {$set: {text: event.target.value}});\n  }, 300),\n  \n  // handle mousedown otherwise the blur handler above will swallow the click\n  // on iOS, we still require the click event so handle both\n  'mousedown .js-delete-item, click .js-delete-item': function() {\n    Todos.remove(this._id);\n    if (! this.checked)\n      Lists.update(this.listId, {$inc: {incompleteCount: -1}});\n  }\n});"]}